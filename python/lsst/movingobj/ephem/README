ephem: Python wrapper to ephememerides code
F. Pierfederici (fpierfed@lsst.org)



Introduction
The ephem module computes ephemerides (i.e. predicted positions) and relative 
positional error ellipses given an orbit, a date-time and a position on Earth.



Build
ephem depends on OrbFit, Python, numpy and f2py. In particular what is needed is

1. A working installation of OrbFit (including libephem).
2. A working installation of Python 2.4 or newer.
3. The numpy Python module.
4. The SVN version of f2py (included in numpy).

In order to build the module use the standard distutils commands:
    shell> cd ephem
    shell> python setup.py install

The ephem distribution includes unit-tests in a file called test.py



Usage
The ephem module exports one function:
ephemerides(elementsType, orbitElements, orbitEpoch, absMag, times,
                   obsCode, covariance, normal)

Given one orbit (described by its orbital elements), a list of times, and a
position on Earth (specified by an observatory code), compute the predictied
position (i.e. ephemerides) of that orbit at each of the input times. Return
positions (i.e. RA, DEC), time t, magnitude mag and positional error ellipse
(err1, err2, PA).
    
INPUT (all angles in degrees)
  elementsType: Orbital elements type (i.e. 'CAR', 'EQU', 'KEP', 'COM',
    'ATT').
  orbitElements: numpy.array containing the orbital elements
    (dimension <= 6). All angles in degrees.
  orbitEpoch: epoch of the orbit (UTC MJD).
  absMag: absolute H magnitude. If not known, use G mag or 0.0.
  obsCode: MPC observatory code.
  times: list of ephemerides times (UTC MJD).
  covariance: optional covariance matrix in diagonal form as 21-element
    numpy.array.
  normal: optional normal matrix in diagonal form as 21-element numpy.array.
    
OUTPUT
  numpy.array of numpy.arrays of the form [RA, Dec, mag, t, err1, err2, PA].
  RA: Right Ascension (deg).
  Dec: Declination (deg).
  t: ephemerides time (UTC MJD).
  mag: apparent magnitude.
  err1: semi-major axis of the positional error ellipse (deg).
  err1: semi-major axis of the positional error ellipse (deg).
  PA: position angle of the positional error ellipse (deg).

Remember: all angles in degrees and all times in UTC MJD.

